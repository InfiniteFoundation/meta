<!DOCTYPE html>

<html>
	<head>
		<title>Input Drag // META</title>

		<script src="http://meta2d.com/meta.js"></script>
	</head>

	<body>
		<!-- Example on how to handle drag events. -->

		<script>
            meta.onLoad = function() 
            {
                meta.loadTexture("http://i.imgur.com/85w15oW.png");

                for(var i = 0; i < 10; i++)
                {
                    var entity = new Entity.Geometry("85w15oW");
                    entity.position(meta.world.randX, meta.world.randY);
                    entity.pivot(0.5);
                    entity.picking = true;
                    meta.view.attach(entity);
                }

                meta.subscribe(Entity.Event.DRAG_START, OnDragStart, this);
                meta.subscribe(Entity.Event.DRAG_END, OnDragEnd, this);
                meta.subscribe(Entity.Event.DRAG, OnDragMove, this);
            }

            function OnDragStart(data, event) {
                var entity = data.entity;
                entity.dragStart(data.x, data.y);
                entity.debug = true;
            }

            function OnDragEnd(data, event) {
                data.entity.debug = false;
            }

            function OnDragMove(data, event) {
                data.entity.dragTo(data.x, data.y);
            };
		</script>
	</body>
</html>