<!DOCTYPE html>

<html>
    <head>
        <title>Tilemap // META</title>

        <script src="http://meta2d.com/meta.js"></script>
    </head>

    <body>
        <!-- Example on how to manually create tilemap data -->

        <script>
            meta.onLoad = function()
            {
                var tilesX = 64;
                var tilesY = 64;
                var tileWidth = 8;
                var tileHeight = 8;

                // Generate data with random 1 and 2 tile gids:
                var id = 0;
                var data = new Array(tilesX * tilesY);
                for(var y = 0; y < tilesY; y++) 
                {
                    for(var x = 0; x < tilesX; x++) {
                        data[id++] = meta.random.number(1, 2);
                    }
                }

                var groundTexture = new Resource.SVG();
                groundTexture.fillStyle = "orange";
                groundTexture.fillRect(0, 0, tileWidth, tileHeight); 

                var wallTexture = new Resource.SVG();
                wallTexture.fillStyle = "#101010";
                wallTexture.fillRect(0, 0, tileWidth, tileHeight); 

                var tilemap = new Entity.Tilemap();
                tilemap.anchor(0.5);
                tilemap.pivot(0.5);
                tilemap.create(tilesX, tilesY, tileWidth, tileHeight);
                tilemap.createTileset(1, groundTexture);
                tilemap.createTileset(2, wallTexture);
                tilemap.createLayer(tilesX, tilesY, data);
                meta.view.attach(tilemap);
            };
        </script>
    </body>
</html>