<!DOCTYPE html>

<html>
    <head>
        <title>Entity Drag & Drop // META</title>

        <script src="http://meta2d.com/meta.js"></script>
    </head>

    <body>
        <!-- Example on how to interact with entity by using their drag events. -->

        <script>
            meta.load = function()
            {
                meta.loadTexture("https://dl.dropboxusercontent.com/u/145051233/meta/shrine.png");

                var entity = new Entity.Geometry("shrine");
                entity.anchor(0.5);
                entity.pivot(0.5);
                // Enable input picking for this entity:
                entity.picking = true;
                meta.view.attach(entity);
   
                // This function is called when input tries to move 
                //  the entity for the first time:
                entity.onDragStart = function(event) {
                    // Optional: This function will register where to offset 
                    //  entity while dragging:
                    this.dragStart(event.x, event.y);
                };

                // This function is called when pressed input was released.
                entity.onDragEnd = function(event) {
                    console.log("DragEnd");
                };

                // This function is called when input moves the entity:
                entity.onDrag = function(event) {
                    this.dragTo(event.x, event.y);
                }; 

                meta.info("Entity drag & drop example");                
            };
        </script>
    </body>
</html>