<!DOCTYPE html>

<html>
	<head>
		<title>Controller creation // META</title>

		<script src="http://meta2d.com/meta.js"></script>
	</head>

	<body>
		<!-- Example on how to create view specific controller. -->

		<script>
			meta.controller("Example", 
			{
				// Called only on the first load called:
				onFirstLoad: function() 
				{					
					meta.loadTexture(
						"https://dl.dropboxusercontent.com/u/145051233/meta/jabba.png");

					this.entity = new Entity.Geometry("jabba");
					this.entity.anchor(0.5);
					// Every controller has its own view instance.
					this.view.attach(this.entity);		
				},

				// onLoad - called on every load called

				// onFistReady - called only on first ready 
				// - and ready is called when all resources are loaded.

				// onReady - called every ready

				// Called on update ticks automatically:
				onUpdate: function(tDelta) {
					this.entity.angle += 10 * tDelta;
				}
			});

			meta.onLoad = function()
			{
				// Will activate example controller and make it`s view visible:
				Example.load();

				meta.info("View controller example");
			};
		</script>
	</body>
</html>