<!DOCTYPE html>

<html>
    <head>
        <title>Sound :: META</title>

        <script src="http://infinite-games.com/meta.latest.js"></script>
    </head>

    <body>
        <script>
            meta.load = function()
            {
                meta.preloadSounds([ 
                    "kick.wav", "hihat.wav", "snare.wav" ],
                    "https://dl.dropboxusercontent.com/u/145051233/audio/");
            }

            meta.ready = function()
            {
                var kick = meta.getSound("kick");
                var snare = meta.getSound("snare");
                var hihat = meta.getSound("hihat");

                var tempo = 120;
                var eightNoteTime = (60 / tempo) / 2;

                var time;
                for(var n = 0; n < 4; n++)
                {
                    time = n * 8 * eightNoteTime;
                    kick.play(false, time);
                    kick.play(false, time + (4 * eightNoteTime));
                    snare.play(false, time + (2 * eightNoteTime));
                    snare.play(false, time + (6 * eightNoteTime));

                    for(var i = 0; i < 8; i++) {
                        hihat.play(false, time + (i * eightNoteTime));
                    }
                }
            }
        </script>
    </body>
</html>