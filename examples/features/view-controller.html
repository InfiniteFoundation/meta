<!DOCTYPE html>

<html>
	<head>
		<title>View Controller :: META</title>

		<script src="http://infinite-games.com/meta.latest.js"></script>
	</head>

	<body>
		<!-- Example on how to create view specific controller. -->

		<script>
			var Example = {};

			Example.Controller = meta.Controller.extend
			({
				// Constructor.
				init: function() 
				{
					this.entity = new Entity.Geometry("jabba");
					this.entity.anchor(0.5);
					// Every controller has access to view it's added to.
					// By default it will be master view.
					this.view.add(this.entity);					
				},

				// All countroller load is called after meta.load function.
				load: function() 
				{
					meta.preloadTexture(
						"https://dl.dropboxusercontent.com/u/145051233/meta/jabba.png");
				},

				update: function(tDelta) {
					this.entity.angle += 10 * tDelta;
				},

				//
				entity: null
			});


			meta.load = function()
			{
				// Create a new custom view:
				// First param: Name of the view.
				// Second param: Name of the controller.
				// Note: Controller .init() will be called ASAP.
				meta.createView("example", "Example");
				
				// Setting view visible will activate controller too.
				meta.setView("example");

				meta.addDescription("View controller example");
			};
		</script>
	</body>
</html>