<!DOCTYPE html>

<html>
    <head>
        <title>View switching // META</title>

        <script src="http://meta2d.com/meta.js"></script>
    </head>

    <body>
        <!-- Example on how to create multiple views and switch between them. -->

        <script>
            var buttonTexture = null;

            function CreateIntroView()
            {
                var introView = meta.createView("intro");

                var shopButton = new UI.Button(buttonTexture);
                shopButton.text = "Shop";
                shopButton.pivot(0.5);
                shopButton.anchor(0.5);
                shopButton.position(-90, 0);
                shopButton.onClick = function() {
                    meta.setView("shop");
                };
                introView.attach(shopButton);

                var gameButton = new UI.Button(buttonTexture);
                gameButton.text = "Game";
                gameButton.pivot(0.5);
                gameButton.anchor(0.5);
                gameButton.position(90, 0);
                gameButton.onClick = function() {
                    meta.setView("game");
                };
                introView.attach(gameButton);
            };

            function CreateShopView()
            {
                var shopView = meta.createView("shop");

                var backButton = new UI.Button(buttonTexture);
                backButton.text = "Back from shop";
                backButton.pivot(0.5);
                backButton.anchor(0.5);
                backButton.onClick = function() {
                    meta.setView("intro");
                };
                shopView.attach(backButton);
            };

            function CreateGameView()
            {
                var gameView = meta.createView("game");

                var backButton = new UI.Button(buttonTexture);
                backButton.text = "Back from game";
                backButton.pivot(0.5);
                backButton.anchor(0.5);
                backButton.onClick = function() {
                    meta.setView("intro");
                };
                gameView.attach(backButton);
            };            

            meta.onLoad = function()
            {
                buttonTexture = new Resource.SVG();
                buttonTexture.fillRect(0, 0, 140, 40);

                CreateIntroView();
                CreateShopView();
                CreateGameView();               

                meta.setView("intro"); 

                meta.info("Example on how to create multiple views and switch between them");               
            };
        </script>
    </body>
</html>