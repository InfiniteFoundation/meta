<!DOCTYPE html>

<html>
    <head>
        <title>Entity Clipping // META</title>

        <script src="http://meta2d.com/meta.js"></script>
    </head>

    <body>
        <!-- Example on how to clip entities. -->

        <script>
            var entity;

            meta.load = function()
            {
                meta.loadTexture(
                    "https://dl.dropboxusercontent.com/u/145051233/meta/jabba.png");

                // Create an clipping entity just to see clipping boundaries.
                var clippingTex = new Resource.SVG();
                clippingTex.fillStyle = "#555";
                clippingTex.fillRect(0, 0, 150, 150);

                var clippingEntity = new Entity.Geometry(clippingTex);
                clippingEntity.anchor(0.5);
                clippingEntity.pivot(0.5);
                meta.view.attach(clippingEntity);

                entity = new Entity.Geometry("jabba");
                entity.anchor(0.5);
                entity.pivot(0.5);
                // Setup clip region by passing other entity or by passing meta.math.AABB:
                entity.clip(clippingEntity);
                entity.debug = true;
                meta.view.attach(entity);

                meta.info("Example on how to clip entities");
            };

            meta.update = function(tDelta) {
                entity.angle += 20 * tDelta;
            };
        </script>
    </body>
</html>