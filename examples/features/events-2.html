<!DOCTYPE html>

<html>
	<head>
		<title>Events - META</title>

		<script src="http://infinite-games.com/meta.latest.js"></script>
	</head>

	<body>
		<script>
            window.entity;

            function Listener(data, event) 
            {
                if(event === "load") {
                    meta.preloadTextures("https://dl.dropboxusercontent.com/u/145051233/meta/jabba.png");
                }
                else if(event === "create") 
                {
                    entity = new Entity.Geometry(data);
                    entity.anchor(0.5);
                    meta.view.add(entity);
                }
                else if(event === "showBounds") {
                    entity.showBounds = data;
                }
            };

            meta.load = function()
            {
                meta.createChannel("Example");
                meta.subscribe(window, "Example", Listener);

                meta.emit("Example", null, "load");
                meta.emit("Example", "jabba", "create");
                meta.emit("Example", true, "showBounds");

                meta.addDescription("Event example");
            };
		</script>
	</body>
</html>